<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lighter - Ù…ØªØ¬Ø± Ø¹Ù†Ø§ØµØ± Ø±ÙˆØ¨Ù„ÙˆÙƒØ³</title>
    <style>
        /* --- CSS STYLING --- */
        :root {
            --primary-color: #00b06f; /* Ø£Ø®Ø¶Ø± Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ */
            --bg-color: #1e1e1e;
            --card-bg: #2b2b2b;
            --section-header: #3a3a3a;
            --text-color: #ffffff;
            --danger-color: #e53e3e;
            --support-color: #3f51b5; /* Ù„ÙˆÙ† Ø¬Ø¯ÙŠØ¯ Ù„Ø²Ø± Ø§Ù„Ø¯Ø¹Ù… */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Ø¶Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù€ RTL */
            text-align: right; 
        }

        header {
            background-color: #111;
            width: 100%;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            position: relative; /* Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø³Ù„Ø© */
        }

        h1 { margin: 0; font-size: 2.2rem; }
        p { color: #ccc; }

        /* Cart Icon */
        .cart-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
            z-index: 500;
        }
        .cart-icon:hover {
            background-color: #008a57;
        }
        .cart-count {
            background-color: var(--danger-color);
            border-radius: 50%;
            padding: 2px 8px;
            font-size: 0.8rem;
        }


        /* Section Header Styling */
        .section-header {
            width: 100%;
            max-width: 1200px;
            text-align: right;
            margin: 30px 0 15px;
            padding: 10px 20px;
            background-color: var(--section-header);
            border-right: 5px solid var(--primary-color); 
            border-left: none;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .section-header h2 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        /* Grid Layout */
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            box-sizing: border-box;
        }

        /* Product Card */
        .product-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 1px solid #333;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background-color: #444; /* Ø®Ù„ÙÙŠØ© Ø±Ù…Ø§Ø¯ÙŠØ© Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø¯ÙˆØ¯ ØµÙˆØ± PNG */
            border-radius: 8px;
            /* ØªÙ… Ø§Ù„ØªØºÙŠÙŠØ± Ù…Ù† 'cover' Ø¥Ù„Ù‰ 'contain' Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
            object-fit: contain; 
            margin-bottom: 15px;
        }

        .product-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .product-trait {
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 5px;
        }

        .product-price {
            color: var(--primary-color);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .buy-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            font-weight: bold;
            transition: background 0.2s;
        }

        .buy-btn:hover {
            background-color: #008a57;
        }
        
        /* --- Support Card Styling --- */
        .support-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 1px solid var(--primary-color);
            margin-bottom: 50px; 
            text-align: center;
        }
        .support-card p {
            margin: 0 0 15px 0;
            color: #ccc;
        }

        /* --- Input Styles (Shared for Modals) --- */
        label {
            display: block;
            text-align: right; 
            margin-top: 15px;
            margin-bottom: 5px;
            color: #ccc;
            font-size: 0.9rem;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #555;
            background-color: #1a1a1a;
            color: white;
            box-sizing: border-box;
            font-size: 1rem;
            text-align: right; 
        }

        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        textarea {
            resize: vertical;
            height: 120px;
        }


        /* --- Cart Panel --- */
        #cart-panel {
            position: fixed;
            top: 0;
            right: -400px; /* Ù…Ø®ÙÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
            width: 90%;
            max-width: 400px;
            height: 100%;
            background-color: #111;
            box-shadow: -4px 0 15px rgba(0,0,0,0.5);
            z-index: 1000;
            transition: right 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
        }

        #cart-panel.open {
            right: 0; /* ØªØ¸Ù‡Ø± Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙŠ ØªØ®Ø·ÙŠØ· RTL */
        }

        #cart-content {
            padding: 20px;
            overflow-y: auto;
            flex-grow: 1;
        }

        #cart-panel h2 {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            margin: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }

        .item-info {
            text-align: right;
        }

        .item-name {
            font-weight: bold;
        }

        .item-price-quantity {
            font-size: 0.9rem;
            color: #ccc;
        }

        .remove-btn {
            background-color: var(--danger-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.2s;
        }
        .remove-btn:hover {
            background-color: #c53030;
        }

        #cart-summary {
            padding: 20px;
            border-top: 1px solid #333;
            background-color: #1a1a1a;
        }

        #cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .checkout-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background 0.2s;
        }
        .checkout-btn:hover {
            background-color: #008a57;
        }
        .checkout-btn:disabled {
            background-color: #555;
            cursor: not-allowed;
        }

        /* --- Shared Modal Styling --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001; /* Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø³Ù„Ø© */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.85);
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(3px);
        }

        .modal-content {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            position: relative;
            text-align: right; 
            border: 1px solid #444;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        }

        .close-btn {
             position: absolute;
             top: 10px;
             left: 15px;
             right: auto;
             color: #aaa;
             font-size: 28px;
             font-weight: bold;
             cursor: pointer;
             transition: color 0.2s;
        }


        .close-btn:hover { color: white; }

        .confirm-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 20px;
            font-weight: bold;
        }

        .confirm-btn:disabled {
            background-color: #555;
            cursor: not-allowed;
        }

        #status-msg, #support-status-msg {
            margin-top: 15px;
            font-size: 0.9rem;
            min-height: 20px;
            text-align: center; 
        }
        
        /* Support specific button style override */
        .support-btn {
            background-color: var(--support-color);
        }
        .support-btn:hover {
            background-color: #324095;
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ’ Lighter ğŸ›’</h1>
        <p>Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡ Ø£Ø¯Ù†Ø§Ù‡ Ù…Ù† Ù„Ø¹Ø¨Ø© Steal A Brainrot.</p>
        
        <!-- Cart Icon -->
        <div class="cart-icon" onclick="toggleCart()">
            <span>Ø§Ù„Ø³Ù„Ø©</span>
            <span id="cart-counter" class="cart-count">0</span>
        </div>
    </header>

    <!-- SECTION: STEAL A BRAINROT -->
    <div class="section-header">
        <h2>ğŸ§  Ø¹Ù†Ø§ØµØ± "Steal A Brainrot"</h2>
    </div>
    <div class="container">
        
        <!-- ITEM: GC (Gobblino) -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Gobblino_Uniciclino.png -->
            <img src="Gobblino_Uniciclino.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=GC';" alt="GC (Gobblino)" class="product-image">
            <div class="product-title">Gobblino Uniciclino</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">2500 RBX</div>
            <button class="buy-btn" onclick="addToCart('GC', 2500, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: LSC -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Lospookycombi.png -->
            <img src="Lospookycombi.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=LSC';" alt="LSC" class="product-image">
            <div class="product-title">LosSpooky Combinasionas</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">2100 RBX</div>
            <button class="buy-btn" onclick="addToCart('LSC', 2100, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: Los 67 -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Los-67.png -->
            <img src="Los-67.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Los+67';" alt="Los 67" class="product-image">
            <div class="product-title">Los 67</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">1500 RBX</div>
            <button class="buy-btn" onclick="addToCart('Los 67', 1500, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: CB (Girl) -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Chicliterita_bicicliterita.png -->
            <img src="Chicliterita_bicicliterita.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=CB+(Girl)';" alt="CB (Girl)" class="product-image">
            <div class="product-title">Chicliterita Bicicliterita</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">500 RBX</div>
            <button class="buy-btn" onclick="addToCart('CB (Girl)', 500, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: To To To Sahur -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Africa_by_toto_29.png -->
            <img src="Africa_by_toto_29.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=To+To+To+Sahur';" alt="To To To Sahur" class="product-image">
            <div class="product-title">To To To Sahur</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">500 RBX</div>
            <button class="buy-btn" onclick="addToCart('To To To Sahur', 500, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: LVSS (La Vaca) -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© La_Vaccca_Saturno_Saturnita.png -->
            <img src="La_Vaccca_Saturno_Saturnita.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=LVSS';" alt="LVSS (La Vaca)" class="product-image">
            <div class="product-title">La Vaccca Saturnoto Sturnita</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: ÙŠÙŠÙ†Øº ÙŠØ§Ù†Øº</div>
            <div class="product-price">500 RBX</div>
            <button class="buy-btn" onclick="addToCart('LVSS', 500, 'ÙŠÙŠÙ†Øº ÙŠØ§Ù†Øº')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: La Cucaracha -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© La_Cucaracha.png -->
            <img src="La_Cucaracha.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=La+Cucaracha';" alt="La Cucaracha" class="product-image">
            <div class="product-title">La Cucaracha</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">500 RBX</div>
            <button class="buy-btn" onclick="addToCart('La Cucaracha', 500, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

        <!-- ITEM: Uncilito Samito (Crab) -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Elon_musk.png -->
            <img src="Elon_musk.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Uncilito+Samito';" alt="Uncilito Samito" class="product-image">
            <div class="product-title">Uncilito Samito</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: Ø³Ø±Ø·Ø§Ù†</div>
            <div class="product-price">300 RBX</div>
            <button class="buy-btn" onclick="addToCart('Uncilito Samito', 300, 'Ø³Ø±Ø·Ø§Ù†')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: telemorte -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Telemorte.png -->
            <img src="Telemorte.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=telemorte';" alt="telemorte" class="product-image">
            <div class="product-title">Telemorte</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">200 RBX</div>
            <button class="buy-btn" onclick="addToCart('telemorte', 200, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: Los Cacurchas -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Los_Cucarachas_no_effect.png -->
            <img src="Los_Cucarachas_no_effect.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Los+Cacurchas';" alt="Los Cacurchas" class="product-image">
            <div class="product-title">Los Cacurchas</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">200 RBX</div>
            <button class="buy-btn" onclick="addToCart('Los Cacurchas', 200, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: Pirulitaio Bic -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Piruleta.png -->
            <img src="Piruleta.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Pirulitaio+Bic';" alt="Pirulitaio Bic" class="product-image">
            <div class="product-title">Piruleta Bic</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">200 RBX</div>
            <button class="buy-btn" onclick="addToCart('Pirulitaio Bic', 200, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: JJJ Sahur (Job) -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Job.png -->
            <img src="Job.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=JJJ+Sahur';" alt="JJJ Sahur (Job)" class="product-image">
            <div class="product-title">Job Job Job Sahur</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">100 RBX</div>
            <button class="buy-btn" onclick="addToCart('JJJ Sahur', 100, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: Los Q -->
        <div class="product-card">
            <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© LosQuesadillas.png -->
            <img src="LosQuesadillas.png" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Los+Q';" alt="Los Q" class="product-image">
            <div class="product-title">Los Quesadillas</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">100 RBX</div>
            <button class="buy-btn" onclick="addToCart('Los Q', 100, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
        
        <!-- ITEM: Pot Hostpot -->
        <div class="product-card">
            <!-- Ù„Ù… ÙŠØªÙ… ØªÙˆÙÙŠØ± ØµÙˆØ±Ø©ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù†Ø§Ø¦Ø¨ -->
            <img src="Pot_Hotspot" onerror="this.onerror=null; this.src='https://placehold.co/250x200/3a3a3a/ffffff?text=Pot+Hostpot';" alt="Pot Hostpot" class="product-image">
            <div class="product-title">Pot Hotspot</div>
            <div class="product-trait">Ø§Ù„Ø®Ø§ØµÙŠØ©: N/A</div>
            <div class="product-price">50 RBX</div>
            <button class="buy-btn" onclick="addToCart('Pot Hostpot', 50, 'N/A')">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>

    </div>

    <!-- SECTION: CUSTOMER SUPPORT -->
    <div class="section-header">
        <h2>ğŸ“ Ø¯Ø¹Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
    </div>
    <!-- Using a single column layout for the support card -->
    <div class="container" style="display: flex; justify-content: center; width: 100%; max-width: 600px;"> 
        <div class="support-card" style="width: 100%;">
            <p>Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø£Ùˆ Ø¯Ø¹Ù… Ø¨Ø®ØµÙˆØµ Ø·Ù„Ø¨ÙƒØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©. Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ø³ØªÙØ¯Ø®Ù„Ù‡.</p>
            <button class="buy-btn support-btn" onclick="openSupportModal()">
                Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø¯Ø¹Ù…
            </button>
            <p style="font-size: 0.85rem; color: #777; margin-top: 15px;">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ÙŠØªØ±Ø§ÙˆØ­ Ø¨ÙŠÙ† 2 - 24 Ø³Ø§Ø¹Ø©.</p>
        </div>
    </div>

    <div style="height: 50px;"></div>

    <!-- --- CART PANEL (Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª) --- -->
    <div id="cart-panel">
        <h2>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª <button class="cart-close-btn" onclick="toggleCart()">&times;</button></h2>
        <div id="cart-content">
            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ù„Ø© Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            <p id="empty-cart-msg" style="text-align: center; margin-top: 50px; color: #aaa;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
        </div>
        <div id="cart-summary">
            <div id="cart-total">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="total-price">0 RBX</span>
            </div>
            <button class="checkout-btn" id="checkout-btn" onclick="openCheckoutModal()" disabled>Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡</button>
        </div>
    </div>

    <!-- --- CHECKOUT MODAL (Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹) --- -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('checkoutModal')">&times;</span>
            <h2 id="modal-title">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h2>
            <p style="font-size: 0.9rem; color: #aaa;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.</p>
            
            <form id="purchase-form">
                <!-- FORMSUBMIT CONFIGURATION -->
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_subject" value="Ø·Ù„Ø¨ Ù…ØªØ¬Ø± Lighter Ø¬Ø¯ÙŠØ¯">
                <!-- Cart Content (Populated by JS) -->
                <input type="hidden" name="Items_In_Cart" id="hidden-cart-content">
                <input type="hidden" name="Total_RBX" id="hidden-total-rbx">


                <label for="roblox-username">Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:</label>
                <input type="text" name="Roblox_Username" id="roblox-username" placeholder="Ù…Ø«Ø§Ù„: PlayerOne" required>
                
                <button type="submit" class="confirm-btn" id="submit-btn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
            </form>
            
            <p id="status-msg"></p>
        </div>
    </div>
    
    <!-- --- SUPPORT MODAL (Ù†Ø§ÙØ°Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹Ù…) --- -->
    <div id="supportModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('supportModal')">&times;</span>
            <h2 id="support-modal-title">Ø¥Ø±Ø³Ø§Ù„ Ø§Ø³ØªÙØ³Ø§Ø± Ø¯Ø¹Ù…</h2>
            <p style="font-size: 0.9rem; color: #aaa;">Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙˆØµÙ Ù…Ø´ÙƒÙ„ØªÙƒ Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„.</p>
            
            <form id="support-form">
                <!-- FORMSUBMIT CONFIGURATION -->
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_subject" value="Ø·Ù„Ø¨ Ø¯Ø¹Ù… Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Lighter">


                <label for="support-email-input">Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ù„Ù„ØªÙˆØ§ØµÙ„):</label>
                <input type="text" name="Sender_Email" id="support-email-input" placeholder="example@email.com" required>
                
                <label for="issue-description">ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:</label>
                <textarea name="Issue_Description" id="issue-description" placeholder="Ø§Ø°ÙƒØ± Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ³Ø¨Ø¨ Ø§Ù„ØªÙˆØ§ØµÙ„..." required></textarea>
                
                <button type="submit" class="confirm-btn support-btn" id="send-support-btn">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…</button>
            </form>
            
            <p id="support-status-msg"></p>
        </div>
    </div>


    <script>
        // --- CONFIGURATION ---
        // Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù‡Ù†Ø§ Ø¯Ø§Ø®Ù„ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³
        const MY_EMAIL = "omar.mkalbaraghith@gmail.com"; 

        // --- GLOBAL STATE ---
        let cart = [];

        // --- DOM REFERENCES ---
        const cartPanel = document.getElementById('cart-panel');
        const cartContent = document.getElementById('cart-content');
        const cartCounter = document.getElementById('cart-counter');
        const totalPriceDisplay = document.getElementById('total-price');
        const checkoutBtn = document.getElementById('checkout-btn');
        const checkoutModal = document.getElementById('checkoutModal');
        const statusMsg = document.getElementById("status-msg");
        const submitBtn = document.getElementById("submit-btn");
        
        // New Support References
        const supportModal = document.getElementById('supportModal');
        const supportForm = document.getElementById('support-form');
        const sendSupportBtn = document.getElementById('send-support-btn');
        const supportStatusMsg = document.getElementById('support-status-msg');
        
        // --- CART LOGIC ---

        function saveCart() {
            renderCart();
        }

        function addToCart(name, price, trait) {
            cart.push({
                name: name,
                price: price,
                trait: trait,
                quantity: 1 
            });

            saveCart();

            // Provide visual feedback (e.g., flash the cart icon or show a temporary message)
            const icon = document.querySelector('.cart-icon');
            icon.style.backgroundColor = 'var(--danger-color)';
            setTimeout(() => {
                icon.style.backgroundColor = 'var(--primary-color)';
            }, 300);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
        }

        function calculateTotal() {
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }

        function renderCart() {
            cartContent.innerHTML = '';
            const total = calculateTotal();

            if (cart.length === 0) {
                cartContent.innerHTML = `<p id="empty-cart-msg" style="text-align: center; margin-top: 50px; color: #aaa;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>`;
                checkoutBtn.disabled = true;
                cartCounter.innerText = 0;
            } else {
                checkoutBtn.disabled = false;
                cart.forEach((item, index) => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'cart-item';
                    itemDiv.innerHTML = `
                        <button class="remove-btn" onclick="removeFromCart(${index})">Ø­Ø°Ù</button>
                        <div class="item-info">
                            <div class="item-name">${item.name}</div>
                            <div class="item-price-quantity">${item.price} RBX</div>
                        </div>
                    `;
                    cartContent.appendChild(itemDiv);
                });
                cartCounter.innerText = cart.length;
            }

            totalPriceDisplay.innerText = `${total} RBX`;
        }

        // --- CART PANEL CONTROL ---

        function toggleCart() {
            cartPanel.classList.toggle('open');
        }

        // --- MODAL CONTROLS ---

        function openCheckoutModal() {
            if (cart.length === 0) {
                return;
            }

            // Prepare data for form submission
            const cartSummary = cart.map(item => 
                `${item.name} | Ø§Ù„Ø³Ø¹Ø±: ${item.price} RBX | Ø§Ù„Ø®Ø§ØµÙŠØ©: ${item.trait}`
            ).join('\n---\n');

            document.getElementById('hidden-cart-content').value = cartSummary;
            document.getElementById('hidden-total-rbx').value = calculateTotal();
            
            // Open the modal and clear status
            statusMsg.innerText = "";
            submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
            submitBtn.disabled = false;
            checkoutModal.style.display = "flex";

            // Close the cart panel when opening the modal
            cartPanel.classList.remove('open'); 
        }
        
        function openSupportModal() {
            supportStatusMsg.innerText = "";
            sendSupportBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…";
            sendSupportBtn.disabled = false;
            supportModal.style.display = "flex";
        }

        function closeModal(id) {
            document.getElementById(id).style.display = "none";
        }

        // Close if clicked outside the checkout modal
        window.onclick = function(event) {
            if (event.target == checkoutModal) {
                closeModal('checkoutModal');
            }
            if (event.target == supportModal) {
                closeModal('supportModal');
            }
        }

        // --- FORM SUBMISSION LOGIC ---

        // Handle Checkout Form Submit
        document.getElementById('purchase-form').addEventListener('submit', function(e) {
            e.preventDefault(); 

            if(MY_EMAIL === "INSERT_YOUR_EMAIL_HERE@EXAMPLE.COM" || MY_EMAIL === "") {
                statusMsg.innerText = "Ø®Ø·Ø£: Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª.";
                statusMsg.style.color = "red";
                return;
            }

            submitBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
            submitBtn.disabled = true;
            statusMsg.innerText = "";

            const formData = new FormData(this);

            // Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ FormSubmit
            fetch(`https://formsubmit.co/ajax/${MY_EMAIL}`, {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                
                // --- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ 2-24 Ø³Ø§Ø¹Ø© ---
                statusMsg.innerText = "Ù†Ø¬Ø§Ø­! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ. Ø³ÙŠÙ‚ÙˆÙ… Ù…ÙˆØ¸ÙÙ†Ø§ Ø¨Ø¥Ø±Ø³Ø§Ù„ **Ø·Ù„Ø¨ ØµØ¯Ø§Ù‚Ø© Ø®Ù„Ø§Ù„ 2 - 24 Ø³Ø§Ø¹Ø©** Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ¨Ø§Ø¯Ù„.";
                statusMsg.style.color = "var(--primary-color)";
                submitBtn.innerText = "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!";
                
                // Clear cart and close modal after delay
                cart = [];
                saveCart();
                
                setTimeout(() => {
                    closeModal('checkoutModal');
                    submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                    submitBtn.disabled = false;
                }, 4000); 
            })
            .catch(error => {
                console.error("Error:", error);
                statusMsg.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
                statusMsg.style.color = "var(--danger-color)";
                submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                submitBtn.disabled = false;
            });
        });
        
        // Handle Support Form Submit (NEW)
        supportForm.addEventListener('submit', function(e) {
            e.preventDefault(); 

            if(MY_EMAIL === "INSERT_YOUR_EMAIL_HERE@EXAMPLE.COM" || MY_EMAIL === "") {
                supportStatusMsg.innerText = "Ø®Ø·Ø£: Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª.";
                supportStatusMsg.style.color = "var(--danger-color)";
                return;
            }

            sendSupportBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
            sendSupportBtn.disabled = true;
            supportStatusMsg.innerText = "";

            const formData = new FormData(this);

            // Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ FormSubmit
            fetch(`https://formsubmit.co/ajax/${MY_EMAIL}`, {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                
                supportStatusMsg.innerText = "Ù†Ø¬Ø§Ø­! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…. Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ø£Ø¯Ø®Ù„ØªÙ‡ Ø®Ù„Ø§Ù„ 2 - 24 Ø³Ø§Ø¹Ø©.";
                supportStatusMsg.style.color = "var(--primary-color)";
                sendSupportBtn.innerText = "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!";
                
                // Clear form inputs
                document.getElementById('support-email-input').value = '';
                document.getElementById('issue-description').value = '';

                setTimeout(() => {
                    closeModal('supportModal');
                    sendSupportBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…";
                    sendSupportBtn.disabled = false;
                }, 4000); 
            })
            .catch(error => {
                console.error("Error:", error);
                supportStatusMsg.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
                supportStatusMsg.style.color = "var(--danger-color)";
                sendSupportBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¯Ø¹Ù…";
                sendSupportBtn.disabled = false;
            });
        });
        
        // Initial render when the page loads
        document.addEventListener('DOMContentLoaded', () => {
             renderCart();
             // ØªÙ… Ø­Ø°Ù Ù…Ù†Ø·Ù‚ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ø¯Ø¹Ù….
        });
    </script>
</body>
</html>
